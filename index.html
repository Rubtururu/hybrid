<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>HybridDeFi Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Web3 -->
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

<header class="topbar">
  <div class="logo">HybridDeFi</div>
  <div class="wallet-box">
    <button onclick="connectWallet()">Conectar MetaMask</button>
    <span id="wallet">No conectado</span>
  </div>
</header>

<main class="dashboard">

  <!-- GLOBAL STATS -->
  <section class="card-grid">
    <div class="card">
      <h3>Total Depositado</h3>
      <p id="totalDeposited">0</p>
    </div>
    <div class="card">
      <h3>Total Retirado</h3>
      <p id="totalWithdrawn">0</p>
    </div>
    <div class="card">
      <h3>Total Shares</h3>
      <p id="totalShares">0</p>
    </div>
    <div class="card">
      <h3>Dividend Pool</h3>
      <p id="dividendPool">0</p>
    </div>
  </section>

  <!-- USER -->
  <section class="panel">
    <h2>Mis Stats</h2>
    <div class="panel-grid">
      <div>Depositado: <b id="userDeposited">0</b></div>
      <div>Retirado: <b id="userWithdrawn">0</b></div>
      <div>Shares: <b id="userShares">0</b></div>
      <div>% Share: <b id="userSharePercent">0%</b></div>
      <div>Dividendos reclamados: <b id="userClaimed">0</b></div>
      <div>Dividendos pendientes: <b id="userPending">0</b></div>
    </div>

    <div class="actions">
      <input id="deposit" type="number" step="0.001" placeholder="BNB">
      <button onclick="deposit()">Depositar</button>

      <input id="withdraw" type="number" step="0.001" placeholder="BNB">
      <button onclick="withdraw()">Retirar</button>

      <button class="claim" onclick="claimDividends()">Claim Dividends</button>
    </div>
  </section>

  <!-- AUCTION -->
  <section class="panel">
    <h2>Subasta</h2>

    <div class="auction-grid">
      <div>
        <span>Countdown</span>
        <b id="auctionCountdown">--</b>
      </div>
      <div>
        <span>Puja actual</span>
        <b id="auctionBid">0</b>
      </div>
      <div>
        <span>Siguiente puja</span>
        <b id="nextBid">0</b>
      </div>
    </div>

    <button class="primary" onclick="bidAuction()">Pujar</button>

    <h3>Top 5 pujadores</h3>
    <ul id="auctionTop" class="list"></ul>
  </section>

  <!-- RAFFLE -->
  <section class="panel">
    <h2>Rifa</h2>

    <div class="raffle-grid">
      <div>
        <span>Countdown</span>
        <b id="raffleCountdown">--</b>
      </div>
      <div>
        <span>Prize Pot</span>
        <b id="rafflePot">0</b>
      </div>
      <div>
        <span>Total tickets</span>
        <b id="raffleTicketsTotal">0</b>
      </div>
      <div>
        <span>Mis tickets</span>
        <b id="raffleMyTickets">0</b>
      </div>
      <div>
        <span>Probabilidad top 5</span>
        <b id="raffleChance">0%</b>
      </div>
    </div>

    <div class="actions">
      <input id="raffleTickets" type="number" min="1" placeholder="Tickets">
      <button onclick="enterRaffle()">Entrar en la rifa</button>
    </div>
  </section>

</main>

<footer>
  HybridDeFi © 2025 – Volume Based DeFi
</footer>

<script src="app.js"></script>
</body>
</html>
